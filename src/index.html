<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Pablo's BattleDex</title>

	<link rel="icon" type="image/x-icon" href="favicon.svg">

	<script src="elm.js"></script>

	<script>
		// auto focus the search
		document.onkeydown = function (e) {
			if (e.keyCode != 27) { //27 = escape, used by my Elm
				var search = document.getElementById("search")
				if (document.activeElement != search) {
					search.select()
				}
				search.focus()
			}
		}
	</script>

	<style>
		html,
		body {
			padding: 0;
			margin: 0;
		}
	</style>
</head>

<body>
	<div id="elm"></div>

	<script>
		const app = Elm.Main.init({
			node: document.getElementById('elm'),
			flags: { mode: null, ...localStorage }
		});

		app.ports.saveLocalStorage.subscribe(function (message) {
			localStorage.setItem(message.key, message.value);
		});
	</script>
</body>

</html>